
# set shell
set -g default-shell /bin/bash

##########################################
# TERMINAL EMULATOR TITLES
set -g set-titles on
set -g set-titles-string "#(tmux ls | awk -F: '{print $1}' | xargs | sed 's/\ / | /g')"

#########################################
# KEY BINDINGS
# C-b = prefix
unbind C-b
set-option -g prefix C-Space
bind-key C-Space send-prefix

# Split panes using | and -
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# Switch panes using Alt-arrow without prefix
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Reload config file (change file location to your the tmux.conf you want to use)
bind r source-file ~/.dotfiles/tmux/tmux.conf \; display-message "Config reloaded..."
bind-key M split-window -h "vim ~/.dotfiles/tmux/tmux.conf"

##########################################
# BASIC CONFIG

# Enable mouse control (clickable windows, panes, resizable panes)
set -g mouse on

# Scroll History
set -g history-limit 30000

# don't rename windows automatically
setw -g allow-rename off

##########################################
# THEME
set -g @color_orange  "colour166"
set -g @color_purple  "colour134"
set -g @color_green   "colour76"     # not "colour076"
set -g @color_blue    "colour39"
set -g @color_yellow  "colour220"
set -g @color_red     "colour160"
set -g @color_black   "colour232"
set -g @color_white   "white"

# This is a theme CONTRACT, you are required to define variables below
# # Change values, but not remove/rename variables itself
set -g @color_dark                     "#{@color_black}"
set -g @color_light                    "#{@color_white}"
set -g @color_session_text             "#{@color_green}"
set -g @color_status_text              "colour245"
set -g @color_main                     "#{@color_orange}"
set -g @color_secondary                "#{@color_green}"
set -g @color_level_ok                 "#{@color_green}"
set -g @color_level_warn               "#{@color_yellow}"
set -g @color_level_stress             "#{@color_red}"
set -g @color_window_off_indicator     "colour88"
set -g @color_window_off_status_bg     "colour238"
set -g @color_window_off_status_current_bg "colour254"

##########################################
# STATUS BAR
set -g status-keys vi
set -g status-interval 1
set -g status-position bottom #
set -g status-justify left #
set -g status-right-length 100 #
#set -g status-bg black 

set -g status-style "bg=colour234,fg=colour250"
set -g message-style "bg=colour166,fg=colour232"
set -g mode-style    "bg=colour166,fg=colour232"

set-window-option -g window-status-current-style "bg=#{@color_secondary}"

# Configure tmux-prefix-highlight colors
set -g @prefix_highlight_output_prefix '['
set -g @prefix_highlight_output_suffix ']'
set -g @prefix_highlight_fg "#{@color_dark}"
set -g @prefix_highlight_bg "#{@color_secondary}"
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_copy_mode_attr "fg=#{@color_dark},bg=#{@color_secondary}"


# Window segments in status line
set -g window-status-separator ""

# Automatically renumber window numbers on closing a pane (tmux >= 1.7).
setw -g renumber-windows on

# define widgets we're going to use in status bar
# note, that this is not the complete list, some of them are loaded from plugins
set -g status-left  "#{prefix_highlight} #[fg=#{@color_session_text}] #S #[default]"
set -g status-right "| #[fg=#{@color_secondary}]#(whoami)#[default]@#H | #[fg=#{@color_secondary}]%h %d %H:%M#[default]"

##########################################
# PLUGIN
set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.dotfiles/tmux/plugins/'

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
#set -g @tpm_plugins 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
#set -g @plugin 'egel/tmux-gruvbox'
#set -g @tmux-gruvbox 'dark'
#set -g @plugin 'o0th/tmux-nova'

set -g @plugin 'tmux-plugins/tmux-sidebar'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.dotfiles/tmux/plugins/tpm/tpm'

###############################
#### Color & Style Settings ###
###############################
 
source ~/.dotfiles/tmux/tmux_theme.sh

